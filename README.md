# django-webpack-loader
(support for production environments coming soon.)

Use webpack to generate your static bundles without django's staticfiles or opaque wrappers. 


Django webpack loader consumes the output generated by [webpack-bundle-tracker](https://github.com/owais/webpack-bundle-tracker) and lets you use the generated bundles in django.


<br><br>
### Configuration

Assuming `assets/` is in `settings.STATICFILES_DIRS` like 
```python
STATICFILES_DIRS = (
    os.path.join(BASE_DIR, 'assets'),
)
```

<br>

##### WEBPACK_BUNDLE_URL
```python
WEBPACK_BUNDLE_URL = STATIC_URL + 'bundles/'
```

URL (not path) to the directory that webpack outputs the bundles to. This should correspond to `output.path` in your webpack config.

<br>

##### WEBPACK_STATS_FILE
```python
WEBPACK_STATS_FILE_PATH = os.path.join(BASE_DIR, 'assets/webpack-stats.json')
```

PATH (not url) to the `webpack-stats.json` file. This corresponds to `filename` in `new BundleTracker({filename: './assets/webpack-stats.json'})` from your webpack config.
`

<br><br>

### Usage

##### Templates

```HTML+Django
{% load render_bundle from webpack_loader %}

{{ render_bundle 'app' }}
```

`render_bundle` will return the proper `<script>` and `<link>` tags needed assuming you have an entry named app in your webpack config like
```javascript
module.exports = {
    context: __dirname,
    entry: {
       app: ['./path/to/entry']
    }
}
```

By default the bundle is called `main` if `entry` directly points to a file

```javascript
module.exports = {
    context: __dirname,
    entry: './path/to/entry'
}
```

Enjoy your webpack with django :)
